var qbInvoice =  {
  "PONumber": "716732709157",
  "ClassRef": {
    "ListID": "80000002-1386786360",
    "FullName": "Passtime USA"
  },
  "InvoiceLineGroupRet": [
    {
      "Desc": "PTG3/WNC-Sale w/2 Years Airtime",
      "TxnLineID": "187FDD-1489594609",
      "IsPrintItemsInGroup": "false",
      "InvoiceLineRet": [
        {
          "Desc": "PTE-3WNC",
          "SalesTaxCodeRef": {
            "ListID": "80000002-1275500139",
            "FullName": "Non"
          },
          "TxnLineID": "18C48D-1489594609",
          "ClassRef": {
            "ListID": "80000002-1386786360",
            "FullName": "Passtime USA"
          },
          "Rate": "169.00",
          "InventorySiteRef": {
            "ListID": "80000001-1426710436",
            "FullName": "Main Warehouse"
          },
          "Amount": "1352.00",
          "Quantity": "8",
          "ItemRef": {
            "ListID": "8000017A-1425411210",
            "FullName": "PTE-3WNC."
          }
        },
        {
          "Desc": "Elite 2 Customer Brochure",
          "SalesTaxCodeRef": {
            "ListID": "80000002-1275500139",
            "FullName": "Non"
          },
          "TxnLineID": "18C48E-1489594609",
          "ClassRef": {
            "ListID": "80000002-1386786360",
            "FullName": "Passtime USA"
          },
          "Rate": "0.00",
          "InventorySiteRef": {
            "ListID": "80000001-1426710436",
            "FullName": "Main Warehouse"
          },
          "Amount": "0.00",
          "Quantity": "8",
          "ItemRef": {
            "ListID": "80000160-1425410690",
            "FullName": "PTE-2CUSTBROCH."
          }
        }
      ],
      "ItemGroupRef": {
        "ListID": "8000019E-1425423195",
        "FullName": "PTG3/WNC-SALE W/2 YEARS AIRTIM."
      },
      "Quantity": "8",
      "TotalAmount": "1352.00"
    },
    {
      "Desc": "RF Remote - Sale",
      "TxnLineID": "188001-1489594609",
      "IsPrintItemsInGroup": "false",
      "InvoiceLineRet": [
        {
          "Desc": "RF Remote",
          "SalesTaxCodeRef": {
            "ListID": "80000002-1275500139",
            "FullName": "Non"
          },
          "TxnLineID": "188002-1489594609",
          "ClassRef": {
            "ListID": "80000002-1386786360",
            "FullName": "Passtime USA"
          },
          "Rate": "0.00",
          "InventorySiteRef": {
            "ListID": "80000001-1426710436",
            "FullName": "Main Warehouse"
          },
          "Amount": "0.00",
          "Quantity": "8",
          "ItemRef": {
            "ListID": "80000177-1425411210",
            "FullName": "PR1-RF."
          }
        }
      ],
      "ItemGroupRef": {
        "ListID": "800001A9-1425423868",
        "FullName": "RFREM-SALE."
      },
      "Quantity": "8",
      "TotalAmount": "0.00"
    }
  ],
  "InvoiceLineRet": [
    {
      "TxnLineID": "188004-1489594609"
    },
    {
      "Desc": "Shipping",
      "SalesTaxCodeRef": {
        "ListID": "80000002-1275500139",
        "FullName": "Non"
      },
      "TxnLineID": "187FE2-1489594609",
      "ClassRef": {
        "ListID": "80000002-1386786360",
        "FullName": "Passtime USA"
      },
      "Rate": "12.00",
      "Amount": "12.00",
      "Quantity": "0",
      "ItemRef": {
        "ListID": "80000008-1275504483",
        "FullName": "Freight."
      }
    }
  ],
  "IsFinanceCharge": "false",
  "IsToBeEmailed": "false",
  "BillAddress": {
    "Addr1": "M & L Imports - Rally",
    "Addr2": "856 N. York Road",
    "State": "IL",
    "PostalCode": "60126",
    "City": "Elmhurst"
  },
  "SalesRepRef": {
    "ListID": "80000086-1305301195",
    "FullName": "TJR"
  },
  "TimeCreated": "2017-03-15T11:16:49-06:00",
  "TimeModified": "2017-03-27T10:39:44-06:00",
  "SalesTaxTotal": "0.00",
  "FOB": "1991",
  "ShipAddress": {
    "Addr1": "M & L Imports - Rally",
    "Addr2": "856 N. York Road",
    "State": "IL",
    "PostalCode": "60126",
    "City": "Elmhurst"
  },
  "TermsRef": {
    "ListID": "80000021-1437581512",
    "FullName": "PREPAY"
  },
  "IsToBePrinted": "false",
  "DueDate": "2017-03-15",
  "ShipAddressBlock": {
    "Addr3": "Elmhurst, IL 60126",
    "Addr1": "M & L Imports - Rally",
    "Addr2": "856 N. York Road"
  },
  "IsPending": "false",
  "TxnNumber": "181091",
  "SalesTaxPercentage": "0.00",
  "ShipMethodRef": {
    "ListID": "80000009-1449683046",
    "FullName": "FEDEX GROUND"
  },
  "BillAddressBlock": {
    "Addr3": "Elmhurst, IL 60126",
    "Addr1": "M & L Imports - Rally",
    "Addr2": "856 N. York Road"
  },
  "BalanceRemaining": "0.00",
  "TxnDate": "2017-03-15",
  "RefNumber": "83001",
  "EditSequence": "1490629184",
  "Subtotal": "1364.00",
  "AppliedAmount": "-1364.00",
  "ShipDate": "2017-03-15",
  "CustomerMsgRef": {
    "ListID": "80000002-1275500145",
    "FullName": "Thank you for your business."
  },
  "DataExtRet": [
    {
      "DataExtName": "Account #",
      "OwnerID": "0",
      "DataExtType": "STR255TYPE",
      "DataExtValue": "6161"
    },
    {
      "DataExtName": "Owner",
      "OwnerID": "0",
      "DataExtType": "STR255TYPE",
      "DataExtValue": "Rich, Tyler"
    },
    {
      "DataExtName": "Inside Sales Rep",
      "OwnerID": "0",
      "DataExtType": "STR255TYPE",
      "DataExtValue": "N/A"
    },
    {
      "DataExtName": "Other",
      "OwnerID": "0",
      "DataExtType": "STR255TYPE",
      "DataExtValue": "012144"
    }
  ],
  "TxnID": "187FDB-1489594609",
  "IsPaid": "true",
  "ARAccountRef": {
    "ListID": "8000000E-1275504354",
    "FullName": "Accounts Receivable"
  },
  "CustomerRef": {
    "ListID": "80001B22-1277223995",
    "FullName": "M & L Imports"
  },
  "TemplateRef": {
    "ListID": "80000009-1276706558",
    "FullName": "Copy of: Intuit Service Invoice"
  },
  "Memo": "Notes: Please put units into 6342 under M & L Imports / 6161 division. Thanks JS",
  "Other": "012144"
}


var products = [];
var obj = {};
 
if (qbInvoice.InvoiceLineGroupRet) {
  for (var i = 0; i < qbInvoice.InvoiceLineGroupRet.length; i++) {
    var pGroupName = qbInvoice.InvoiceLineGroupRet[i].ItemGroupRef.FullName;
    var gQuantity = qbInvoice.InvoiceLineGroupRet[i].Quantity;
    products.push({name: pGroupName, quantity: gQuantity});
  }
}

if (qbInvoice.InvoiceLineRet) {
  for (var j = 0; j < qbInvoice.InvoiceLineRet.length; j++) {
    var line = qbInvoice.InvoiceLineRet[j];
    console.log(line)
    if (line.ItemRef != null || line.Quantity != null) {
        var pName = line.ItemRef.FullName;
        var Quantity = line.Quantity;
        
        if (pName == "Freight"  || pName == "Freight.") {
          obj.qbFreightAmount = line.Amount;
          continue;
        } else if (pName == "Sales Tax" || pName == "Sales Tax.") {
          obj.qbTaxAmount = line.Amount;
          continue;
        }
        
        products.push({name: pName, quantity: Quantity});
      }}
}

obj.productNames = products;

console.log(obj);